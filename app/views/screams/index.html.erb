<h1>Screams</h1>

<script src="https://cdn.jsdelivr.net/npm/gijgo@1.9.6/js/gijgo.min.js" type="text/javascript"></script>
<link href="https://cdn.jsdelivr.net/npm/gijgo@1.9.6/css/gijgo.min.css" rel="stylesheet" type="text/css" />

<% if @screams %>
<%= form_for :filter, as: :post, :url => screams_set_filter_path do |f| %>
  <div class="row">
    <div class="col-6">
     <label class="mb-2 mr-2">Status filter</label>
      <%= f.select(:status, options_for_select([['All', ''], ['Only new', 1], ['Only assigned', 2], ['Only new & assigned', 12], ['Only closed', 3]]), {}, {class: 'form-control mb-2 mr-2'}) %>
      <button type="submit" class="btn btn-primary mb-2">Apply filter</button>
    </div>
    <div class="col-6">
      <label>From</label>
      <%= f.text_field :date_start, {class: 'form-control'} %>
      <label>To</label>
      <%= f.text_field :date_end, {class: 'form-control'} %>
    </div>
  </div>

<% end %>

<%= render 'shared/map', height: 100, jsCallback: 'initMapShowScreams' %>

<h5>Legend</h5>
<ul>
	<li><img src="http://maps.google.com/mapfiles/ms/icons/red-dot.png"> New Scream</li>
	<li><img src="http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"> Assigned Scream</li>
	<li><img src="http://maps.google.com/mapfiles/ms/icons/green-dot.png"> Closed Scream</li>
</ul>
<% else %>
No screams available.
<% end %>